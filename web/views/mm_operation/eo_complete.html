<ab-table-3
	options ="options"
	rows = "rows"
	row ="row"
	refashfn="Refresh" 
	set-refash-fn="setRefashFn(theRefashFn)"
	savefn="SaveFN" 
	set-save-fn="setSaveFn(theSaveFn)"
	>

<div class="row" ng-show="row.hdr.id > 0  ">	
  		<div class="col-md-6">
  			<span class="my-header-span text-blue" ng-show="row.hdr.e_status_action=='active_create'"><b>ยังไม่อนุมัติ</b></span> 
  			<span class="my-header-span text-blue" ng-show="row.hdr.e_status_action=='active_complete'"><b>อนุมัติแล้ว</b></span>
  			<span class="my-header-span text-red" ng-show="row.hdr.e_status=='delete'"><b>ยกเลิก</b></span>
  		</div>	
	    <div class="col-md-6">
	      <div class="btn-group pull-right">
	      	<!--
			<button title="Delete"
	          class="btn btn-danger btn-flat" 
	          ng-show="row.hdr.e_status_action=='active_create'"
	          ng-click="delete_msg();theDelFn(delete_action);"><i class="ion ion-close"></i> ลบใบสั่งซื้อ</button>
	        -->  	
	      		

	        <button title="Print"
	          class="btn btn-info btn-flat" 
	          ng-show="row.hdr.e_status_action=='active_create' 
	          	|| row.hdr.e_status_action=='active_complete'
	          "
	          ng-click="print_action()"><i class="fa fa-print"></i> Print ใบสรุป</button>	
	        <button title="Print"
	          class="btn btn-info btn-flat" 
	          ng-show=" row.hdr.e_status_action=='active_complete' "
	          ng-click="print_action2()"><i class="fa fa-print"></i> Print ใบส่งของ</button>  	
	         <button title="Approve"
	          class="btn btn-primary btn-flat"
	          ng-show="( row.hdr.e_status_action=='active_create' && options.MM && options.showApprov)"
	          ng-click="approve_action();"><i class="fa fa-check"></i> Approve</button> 

 		  </div>
 		</div>
 	</div> 	


	<div class="row space_line_5">
		<div class="col-md-4">
			<div class="row">
				<div class="col-md-4">
					<label><b>ฝ่าย : &nbsp;</b></label>
				</div>
				<div class="col-md-8">	
					<input ng-model="row.hdr.emp_group" class="form-control" id="emp_group" type="text" readonly> 
				</div>
			</div>
			<div class="row">
				<div class="col-md-4">
					<label><b>เดือน : &nbsp;</b></label>
				</div>
				<div class="col-md-8">	
					<input ng-model="row.hdr.month_th_name" class="form-control" id="month_th_name" type="text" readonly> 
				</div>
			</div>
			<div class="row" ng-show="row.hdr.e_status_action=='active_create' || row.hdr.e_status_action=='active_complete'">
				<div class="col-md-4">
					<label><b>เลขที่ใบส่งของ</b> </label>
				</div>	
				<div class="col-md-8">
					<input ng-model="row.hdr.c_doc_no_send" class="form-control" id="c_doc_no_send" type="text" readonly>
				</div>	
			</div>	
			<div class="row" ng-show="row.hdr.e_status_action=='active_complete'">
				<div class="col-md-4">
					<label><b>วันที่อนุมัติ</b> </label>
				</div>	
				<div class="col-md-8">
					<input ng-model="row.hdr.d_complete" class="form-control" id="d_complete" type="text" readonly />
				</div>	
			</div>	
		</div> 
 		<div class="col-md-4">
 			<div class="row">
				<div class="col-md-4">
					<label><b>หมายเหตุ</b> </label>
				</div>	
				<div class="col-md-8">
					<textarea ng-model="row.hdr.c_note" class="form-control" id="c_note" type="text" rows="6"
						ng-disabled="options.disabledNote"  ></textarea> 
				</div>	
			</div>	
		</div> 


 		<div class="col-md-4">
			<div class="row">
				<div class="col-md-4">
					<label><b>เลขที่ใบสรุป</b> </label>
				</div>	
				<div class="col-md-8">
					<input ng-model="row.hdr.c_doc_no" class="form-control" id="c_doc_no" type="text" readonly>
				</div>	
			</div>	
			
			<div class="row">
				<div class="col-md-4">
					<label><b>วันที่สร้าง</b> </label>
				</div>	
				<div class="col-md-8">
					<input ng-model="row.hdr.d_date" class="form-control" id="d_date" type="text" readonly />
					<!--<div class="input-group ps-po-add-edit" >
						<input ng-model="row.hdr.d_date" class="form-control" id="d_date" type="text" datepicker-popup  is-open="date1.opened" 
							min-date="minDate" readonly />
						<span class="input-group-btn">
	                		<button type="button" class="btn btn-default" ng-click="openDate1($event)" 
	                			ng-disabled="false" ><i class="glyphicon glyphicon-calendar"></i></button>
	              		</span>
              		</div>-->
				</div>	
			</div>
			<div class="row">
				<div class="col-md-4">
					<label><b>วันที่ขอเบิก</b> </label>
				</div>	
				<div class="col-md-8">
					<input ng-model="row.hdr.d_date_send" class="form-control" id="d_date_send" type="text" readonly />
					<!--<div class="input-group ps-po-add-edit" >
						<input ng-model="row.hdr.d_date_send" class="form-control" id="d_date_send" type="text" datepicker-popup is-open="date2.opened" 
							min-date="minDate" readonly />
						<span class="input-group-btn">
	                		<button type="button" class="btn btn-default" ng-click="openDate2($event)" 
	                			ng-disabled="false" ><i class="glyphicon glyphicon-calendar"></i></button>
	              		</span>
					</div>-->
				</div>	
			</div>	
			
			<div class="row">
				<div class="col-md-4">
					<label><b>รวมทั้งสิ้น</b> </label>
				</div>	
				<div class="col-md-8">
					<input ng-model="row.hdr.f_doc_total | number : 2" class="form-control" id="f_doc_total" type="text" readonly />
				</div>	
			</div>	
			

		</div> 	

	</div> 
		
 	<div class="row space_line_5 ">	 
		<div class="col-md-12">	 
		  <table width="100%" class="{{options.classTable}}" >
		    <thead>
		      <tr class="{{options.tableBg}}">
		        <th ng-repeat="col in options.cols_dtl" width="{{col.width}}px" colspan="{{col.colspan}}" style="text-align:{{col.align}}" >{{col.label || col.map}}</th> 
		      </tr>
		    </thead>		    
		    <tbody ng-repeat="row_dtl in ( options.rows_dtl | filter:options.iFilter_group )"  >  
		      <tr ng-click="">
		        <td ng-repeat="col in options.cols_dtl" width="{{col.width}}px" style="text-align:{{col.align}}">
		        	 <span ng-if="!col.type" ng-model="row_dtl[col.map]" >{{rowCol(row_dtl,col,($parent.$parent.$index+1))}}</span>
		             <input type="textbox" class="form-control" size="{{col.size}}" style="text-align:{{col.align}};height:20px;padding4px;" 
		             	ng-if="col.type =='textbox' && !col.valid_number" ng-model="row_dtl[col.map]" ng-change="col.changeFn(row_dtl)" 
		             	ng-readonly="col.readonly" ng-disabled="row_dtl.disabled" />  
		             <input type="textbox" class="form-control" size="{{col.size}}" style="text-align:{{col.align}};height:24px;padding6px;"  
		             	ng-if="col.type =='textbox' && col.valid_number =='valid-number' " 
		             	ng-model="row_dtl[col.map]" ng-change="col.changeFn(row_dtl)" 
		             	ng-readonly="col.readonly" ng-disabled="row_dtl.disabled" valid-number/>  
		             <select ng-if="col.type =='select' " 
		             	class="form-control"
						ng-model="row_dtl[col.map]"
						style="height:24px;padding:0px;"
						ng-options="s.id as s.c_desc_show  || s.c_desc for s in row_dtl[col.option] "
						ng-disabled="row_dtl.disabled" 
						ng-change="col.changeFn(row_dtl)" 
						> 
					 </select>
					 <!--{{row_dtl.uofm_c_name}}<!--{{row_dtl.uofm_option}}-->
		        </td> 
		      </tr>		       
		      </tr>		      
		    </tbody>
		  </table>
 
		</div>
	</div>
 
</ab-table-3>
 